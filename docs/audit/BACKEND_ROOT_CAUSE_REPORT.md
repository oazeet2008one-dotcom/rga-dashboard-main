# üìâ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ï‡πâ‡∏ô‡∏ï‡∏≠‡∏Ç‡∏≠‡∏á Backend

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:** 22 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569  
**‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:** Lead Software Auditor (‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚ùå **‡∏û‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ß‡∏¥‡∏Å‡∏§‡∏ï**

---

## ‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°

‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á **‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏≠‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó** (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô `API_CONTRACT_AUDIT.md`, `INTEGRATION_API_SPEC.md` ‡πÅ‡∏•‡∏∞ `schema.prisma`) ‡∏Å‡∏±‡∏ö **‡πÇ‡∏Ñ‡πâ‡∏î Backend ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô** ‡πÉ‡∏ô `backend/src/modules`

> [!CAUTION]
> Backend ‡∏°‡∏µ **TODO ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 22 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£**, **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `any` ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏ type ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 90 ‡∏à‡∏∏‡∏î** ‡πÅ‡∏•‡∏∞ **‡∏Å‡∏≤‡∏£ implement ‡πÅ‡∏ö‡∏ö‡∏õ‡∏•‡∏≠‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏à‡∏∏‡∏î** ‡∏ó‡∏µ‡πà return ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• mock ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API ‡∏à‡∏£‡∏¥‡∏á

---

## 1. üõë ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° (‡∏ß‡∏¥‡∏Å‡∏§‡∏ï)

| ‡πÇ‡∏°‡∏î‡∏π‡∏• | ‡∏Å‡∏≤‡∏£ Implement ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô | ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏≤‡∏° Spec | ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á / ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|--------|------------------------|------------------|--------------|
| **Campaigns** | `update()` ‡∏£‡∏±‡∏ö campaign ID ‡πÉ‡∏î‡∏Å‡πá‡πÑ‡∏î‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏° tenant check | ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡πÅ‡∏Ñ‡∏°‡πÄ‡∏õ‡∏ç‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | **‡πÅ‡∏Å‡πâ IDOR ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô**: ‡∏°‡∏µ tenant check ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ role-based authorization ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö bulk actions |
| **Notification Controller** | ‡πÉ‡∏ä‡πâ `@Req() req: any` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ | ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ `CurrentUser` decorator ‡∏ó‡∏µ‡πà‡∏°‡∏µ type | **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô Type Safety**: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á user object ‡∏ï‡∏≠‡∏ô compile |
| **TikTok Integration** | `@Req() req: any` ‡πÉ‡∏ô 6+ controller methods | ‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ request ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏°‡∏µ type ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô | **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Injection**: ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£ validate ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á `req.user` |
| **Google Ads Controller** | `@Req() req: any` ‡πÉ‡∏ô auth endpoints | ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ `@CurrentUser()` decorator | **‡∏Ç‡∏≤‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á**: ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏°‡∏î‡∏π‡∏• |
| **Dashboard Service** | ‡∏°‡∏µ `mockDataSeeder` inject ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ auth check | Mock data endpoints ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ dev ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô | **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏î‡πâ‡∏≤‡∏ô Data Integrity**: Mock seeder ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÉ‡∏ô production ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏µ |

---

## 2. üöß ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ (Spec ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÇ‡∏Ñ‡πâ‡∏î)

### ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Integration Module

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô Spec | ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏Ñ‡πâ‡∏î | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á |
|---------|---------------|-------------|-----------------|
| **LINE Ads OAuth Flow** | `INTEGRATION_API_SPEC.md` ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 222 | ‚ùå **‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢** | Auth controller `/auth/line/ads` ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà ‡∏°‡∏µ‡πÄ‡∏û‡∏µ‡∏¢‡∏á `LineAdsIntegrationController` ‡∏ó‡∏µ‡πà‡∏°‡∏µ `/status` endpoint ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô |
| **LINE Ads Real API** | ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏≤‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à | ‚ùå **‡∏õ‡∏•‡∏≠‡∏°** | `LineAdsAdapterService` return `getMockCampaignsByPlatform()` - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE API ‡∏à‡∏£‡∏¥‡∏á |
| **Bulk Campaign Update** | Frontend ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á endpoint ‡∏ô‡∏µ‡πâ | ‚ùå **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ IMPLEMENT** | ‡πÑ‡∏°‡πà‡∏°‡∏µ `PATCH /campaigns/bulk` endpoint ‡πÉ‡∏ô `campaigns.controller.ts` |
| **Bulk Status Change** | Dashboard bulk actions | ‚ùå **‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ IMPLEMENT** | Service ‡πÑ‡∏°‡πà‡∏°‡∏µ method `bulkUpdateStatus()` |

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡∏≠‡∏á API Contract (‡∏ï‡∏≤‡∏° `API_CONTRACT_AUDIT.md`)

| Field | Frontend ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | Backend Implement | ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ï‡πâ‡∏ô‡∏ï‡∏≠ |
|-------|------------------|-------------------|------------|
| `platform` | `'facebook' \| 'google' \| 'tiktok'` | `AdPlatform` enum (`GOOGLE_ADS`, `FACEBOOK`, `TIKTOK`) | **Schema ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô**: ‡πÑ‡∏°‡πà‡∏°‡∏µ `@Transform()` decorator ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å |
| `status` | `'draft'` ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á | ‡πÄ‡∏û‡∏¥‡πà‡∏° `DRAFT` ‡πÉ‡∏ô schema ‡πÅ‡∏ï‡πà DTO ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô optional | **‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£ Validation**: Frontend ‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô required ‡πÅ‡∏ï‡πà backend ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô optional |
| `budget` | Required (positive float) | Optional ‡∏î‡πâ‡∏ß‡∏¢ `@IsOptional()` | **‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î Contract**: Backend ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï null budgets |
| `startDate` | Required (ISO string) | Optional ‡∏î‡πâ‡∏ß‡∏¢ `@IsOptional()` | **‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î Contract**: Backend ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï null start dates |

---

## 3. üêõ ‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô Logic ‡πÅ‡∏•‡∏∞‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û

### 3.1 ‡∏Å‡∏≤‡∏£‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î Type Safety (‡πÉ‡∏ä‡πâ `any` ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 90 ‡∏à‡∏∏‡∏î)

| ‡πÑ‡∏ü‡∏•‡πå | Function/Variable | ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ |
|------|-------------------|-------|
| `users.service.ts:95` | `sanitizeUser(user: any)` | ‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• type ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö user sanitization |
| `sync-scheduler.service.ts:82` | `formatStatus = (log: any)` | ‡∏Å‡∏≤‡∏£ format ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á log |
| `notification.service.ts:122` | `const where: any = {}` | Prisma query ‡∏Ç‡πâ‡∏≤‡∏° type checking |
| `unified-sync.service.ts:39` | `let accounts: any[] = []` | ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• account ‡∏™‡∏π‡∏ç‡πÄ‡∏™‡∏µ‡∏¢ type ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏° |
| `unified-sync.service.ts:83` | `accountData?: any` | Sync function ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£ validate |
| `google-analytics-api.service.ts:24` | `runReport(account: any, requestBody: any)` | API calls ‡πÑ‡∏°‡πà‡∏°‡∏µ type safety |
| `dev.controller.ts:34-107` | 7 endpoints ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ `@CurrentUser() user: any` | Dev endpoints ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏°‡∏µ type safety |

*‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ï‡πâ‡∏ô‡∏ï‡∏≠:* **Technical Debt** - ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏ö‡∏ö rapid prototyping ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏ä‡πâ strict TypeScript configuration (`"strict": true` ‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï `any` ‡πÉ‡∏ô tsconfig)

### 3.2 ‡∏Ç‡πâ‡∏≠‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á‡∏î‡πâ‡∏≤‡∏ô Error Handling

| ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á | ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|----------|-------|------|
| `google-ads-api.service.ts:75` | `catch (error: any)` | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• type ‡∏Ç‡∏≠‡∏á error ‡∏ñ‡∏π‡∏Å‡∏•‡∏∞‡∏ó‡∏¥‡πâ‡∏á |
| `google-ads-api.service.ts:118` | `catch (error: any)` | Error ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á campaign ‡πÑ‡∏°‡πà‡∏°‡∏µ type |
| `google-ads-api.service.ts:171` | `catch (error: any)` | Error ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á metrics ‡πÑ‡∏°‡πà‡∏°‡∏µ type |
| `tiktok-ads-oauth.service.ts` | Generic catches ‡∏ó‡∏±‡πà‡∏ß‡∏ó‡∏±‡πâ‡∏á‡πÑ‡∏ü‡∏•‡πå | Error ‡∏Ç‡∏≠‡∏á TikTok ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á |

*‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ï‡πâ‡∏ô‡∏ï‡∏≠:* **‡πÑ‡∏°‡πà‡∏°‡∏µ Error Taxonomy** - ‡πÑ‡∏°‡πà‡∏°‡∏µ custom error classes ‡∏´‡∏£‡∏∑‡∏≠ standardized error response format ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö integrations ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

## 4. üìù ‡∏Å‡∏≤‡∏£ Implement ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à (‡πÇ‡∏Ñ‡πâ‡∏î "‡∏õ‡∏•‡∏≠‡∏°")

### 4.1 TODO Markers (‡∏û‡∏ö‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 22 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)

| ‡πÑ‡∏ü‡∏•‡πå | ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ TODO | ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö |
|------|--------|--------------|---------|
| `line-ads-adapter.service.ts` | 11 | "TODO: Refactor in Sprint 3" | ‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô placeholder |
| `line-ads-adapter.service.ts` | 40 | "TODO: Implement real LINE Ads API call here" | `fetchCampaigns()` return mock |
| `line-ads-adapter.service.ts` | 61 | "TODO: Implement real LINE Ads API call here" | `fetchMetrics()` return mock |
| `google-analytics-adapter.service.ts` | 13 | "TODO: Refactor in Sprint 3" | ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö mock data |
| `google-analytics-adapter.service.ts` | 69 | "TODO: Refactor in Sprint 3 - ctr/cpc/cpm are NOT in DB" | Schema ‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô |
| `facebook-ads.service.ts` | 18 | "TODO: Refactor in Sprint 3" | Service ‡πÅ‡∏ö‡∏ö placeholder |
| `facebook-ads.service.ts` | 75 | "TODO: budget should be Decimal, not number" | Type ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô |
| `facebook-ads.service.ts` | 120 | "TODO: ctr/cpc/cpm are NOT in DB schema" | Calculated fields ‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏• |
| `facebook-ads.service.ts` | 152 | "TODO: Implement token exchange" | OAuth ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå |
| `google-ads.service.ts` | 13 | "TODO: Refactor in Sprint 3" | ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á service |
| `google-ads.service.ts` | 28 | "TODO: Implement validation logic" | ‡∏Å‡∏≤‡∏£ validate credential ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ |
| `google-ads-integration.service.ts` | 27 | "TODO: Remove or reimplement" | ‡∏°‡∏µ dead code |
| `google-ads-integration.service.ts` | 30 | "APIConnection model was removed in Schema V2" | ‡∏£‡πà‡∏≠‡∏á‡∏£‡∏≠‡∏¢‡∏à‡∏≤‡∏Å breaking change |
| `google-analytics-api.service.ts` | 33 | "TODO: Implement Rate Limiting / Quota Check" | ‡∏≠‡∏≤‡∏à‡πÄ‡∏Å‡∏¥‡∏î API abuse ‡πÑ‡∏î‡πâ |
| `tiktok-ads-oauth.service.ts` | 420 | "TODO: Trigger initial sync" | Sync ‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ |
| `tiktok-ads-oauth.service.ts` | 568 | "TODO: Add tokenExpiresAt field to schema" | ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö token expiry |
| `unified-sync.service.ts` | 42 | "TODO: In the future, we should have a unified Account table" | ‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° |

### 4.2 ‡∏Å‡∏≤‡∏£‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤ Mock Data (‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á Production)

| ‡πÇ‡∏°‡∏î‡∏π‡∏• | ‡πÅ‡∏´‡∏•‡πà‡∏á Mock | ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Production |
|--------|-------------|----------------------|
| `line-ads-adapter.service.ts` | `getMockCampaignsByPlatform('LINE_ADS')` | ‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ env var `LINE_ADS_USE_MOCK` |
| `line-ads-adapter.service.ts` | `generateMetricsForDateRange()` | ‡πÉ‡∏ä‡πâ env var guard ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô |
| `dashboard.service.ts` | `MockDataSeederService` | ‡πÑ‡∏°‡πà‡∏°‡∏µ env check - inject ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ |
| `mock-data` module | ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏ú‡πà‡∏≤‡∏ô `dev.controller.ts` | ‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ `JwtAuthGuard` - ‡πÑ‡∏°‡πà‡∏°‡∏µ role check |

*‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ï‡πâ‡∏ô‡∏ï‡∏≠:* **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö Feature Flagging** - Mock data ‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢ env vars ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô centralized feature flags ‡∏ó‡∏µ‡πà‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å environment

---

## 5. üìä ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Schema ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£ Implement

| ‡∏Ñ‡∏≥‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô Schema | ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á | ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á | ‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á |
|---------------------|-------------------|--------------|---------|
| `Campaign.budget` | `Decimal(15,2)` | ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô `number` ‡πÉ‡∏ô DTOs | ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ type coercion |
| `Metric.ctr` | Stored field `Decimal(8,4)` | ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì on-the-fly ‡πÉ‡∏ô services | ‡πÑ‡∏°‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì |
| `Metric.cpc` | **‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô SCHEMA** | ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏ô `getCampaignMetrics()` | Field ‡∏ú‡∏µ - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ persist |
| `Metric.cpm` | **‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô SCHEMA** | ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏ô `getCampaignMetrics()` | Field ‡∏ú‡∏µ - ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ persist |
| `PlatformToken.expiresAt` | ‡∏°‡∏µ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡πÉ‡∏ô schema | TikTok TODO ‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ "Add tokenExpiresAt" | Schema ‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô |

---

## 6. üìã ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á Route (‡∏ï‡∏≤‡∏° `INTEGRATION_API_SPEC.md`)

| ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ | ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î | ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á |
|-------|-----------|-----------|
| **Prefix ‡πÑ‡∏°‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á** | Google: `/auth/google/ads`, TikTok: `/auth/tiktok` (‡πÑ‡∏°‡πà‡∏°‡∏µ `/ads` suffix) | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á frontend routing |
| **Disconnect Route ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô** | TikTok auth ‡πÉ‡∏ä‡πâ `/disconnect`, integration ‡πÉ‡∏ä‡πâ `DELETE /` | ‡∏™‡∏≠‡∏á endpoints ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö action ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô |
| **‡∏ä‡∏∑‡πà‡∏≠ Field Account ID** | Google: `customerId`, Facebook: `accountId`, TikTok: `advertiserId` | Frontend ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö 3 patterns |
| **Complete Payload** | ‡πÅ‡∏ï‡πà‡∏•‡∏∞ platform ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏ä‡∏∑‡πà‡∏≠ field ‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å account | ‡πÑ‡∏°‡πà‡∏°‡∏µ standardized DTO |

---

## 7. ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏£‡∏∏‡∏õ

| ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô |
|----------|-------|
| **‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ß‡∏¥‡∏Å‡∏§‡∏ï** | 5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ |
| **‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢** | 4 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ |
| **TODO Markers** | ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 22 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ |
| **‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `any` Type** | ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 90 ‡∏à‡∏∏‡∏î |
| **‡∏Å‡∏≤‡∏£‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤ Mock Data** | 4 ‡πÇ‡∏°‡∏î‡∏π‡∏• |
| **‡∏Å‡∏≤‡∏£‡∏•‡∏∞‡πÄ‡∏°‡∏¥‡∏î API Contract** | 4 fields |
| **‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á Route** | 4 patterns |

---

## 8. ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á

| ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á | ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏Å‡∏¥‡∏î | ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö |
|-----------|-----------|-----------|---------|
| Mock data ‡πÉ‡∏ô production | üî¥ ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï | ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô metrics ‡∏õ‡∏•‡∏≠‡∏° |
| ‡∏Ç‡πâ‡∏≤‡∏° Type safety | üü† ‡∏™‡∏π‡∏á | ‡∏™‡∏π‡∏á | Runtime errors ‡πÉ‡∏ô production |
| LINE Ads OAuth ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ | üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô | ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡πÑ‡∏î‡πâ |
| API contract ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô | üü† ‡∏™‡∏π‡∏á | ‡∏™‡∏π‡∏á | ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Frontend ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß |
| Bulk actions ‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢ | üü° ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á | ‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô | UX ‡∏•‡∏î‡∏•‡∏á |

---

*‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô*

**‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠:** 22 ‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏° 2569 ‡πÄ‡∏ß‡∏•‡∏≤ 09:50:48 ‡∏ô. (UTC+7)  
**Audit Protocol:** ‡πÄ‡∏Ç‡πâ‡∏°‡∏á‡∏ß‡∏î (‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏ô‡∏≠‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç)
